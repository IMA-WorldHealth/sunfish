extends ../layout.pug

block content
  form(name="schedule",method="POST",action="/schedules/create", autocomplete="off")
    .container
      .columns
        .column.col-12
          h3 Adding a new Schedule
        .column.col-5
          .form-group
            label.form-label Email Subject
            input(type="text", name="subject", required, autocomplete="off").form-input

          .form-group
            label.form-label Email Body
            textarea(name="body", rows="20", required, autocomplete="off").form-input

        .column.col-5

          .form-group
            label.form-label User Group
            select(name="userGroupId", required).form-select
              option(disabled, selected) Choose a User Group
              each group in userGroups
                option(value=group.id).text-capitalize #{group.displayName}

          .form-group
            label.form-label Dashboards
            select(name="dashboard-ids", size=8, required, multiple).form-select
              each dashboard in dashboards
                option(value=dashboard.id).text-capitalize #{dashboard.displayName}

          .form-group#frequency
            label.form-label Frequency
            select(name="frequency", required).form-select.text-capitalize
              option(disabled, selected) Choose a Frequency
              each option in ["daily", "weekly", "monthly"]
                option(value=option) #{option}

          .form-group.d-invisible#day-of-month
            label.form-label Pick the Day of the Month
            select(name="day-of-month", required).form-select.text-capitalize
              each option in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28]
                option(value=option) #{option}

          .form-group.d-invisible#day-of-week
            label.form-label Pick the Day of the Week
            select(name="day-of-week", required).form-select.text-capitalize
              each option, index in ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday']
                option(value=index) #{option}

          .form-group.d-invisible#hour-of-day
            label.form-label Pick the Hour of the Day
            select(name="hour-of-day", required).form-select.text-capitalize
              each option in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
                option(value=option) #{option}:00

          input(type="hidden", name="cron")

      br

      button(type="submit", data-add-loading).btn.btn-primary + Create Schedule

  script(type="text/javascript")
    include ../includes/forms.js

  script(type="text/javascript")
    include ../includes/create.js
